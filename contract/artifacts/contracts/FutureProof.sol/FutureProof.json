{
  "_format": "hh-sol-artifact-1",
  "contractName": "FutureProof",
  "sourceName": "contracts/FutureProof.sol",
  "abi": [
    {
      "inputs": [],
      "name": "InvalidKeyCID",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidMessageCID",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidMessageHash",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidTimestamp",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "MessageNotFound",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SenderIsRecipient",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint64",
          "name": "messageId",
          "type": "uint64"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "sender",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint64",
          "name": "unlockTimestamp",
          "type": "uint64"
        }
      ],
      "name": "MessageStored",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint64",
          "name": "messageId",
          "type": "uint64"
        }
      ],
      "name": "getMessage",
      "outputs": [
        {
          "components": [
            {
              "internalType": "string",
              "name": "encryptedKeyCid",
              "type": "string"
            },
            {
              "internalType": "string",
              "name": "encryptedMessageCid",
              "type": "string"
            },
            {
              "internalType": "string",
              "name": "messageHash",
              "type": "string"
            },
            {
              "internalType": "uint64",
              "name": "unlockTimestamp",
              "type": "uint64"
            },
            {
              "internalType": "address",
              "name": "sender",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "recipient",
              "type": "address"
            },
            {
              "internalType": "uint64",
              "name": "createdAt",
              "type": "uint64"
            }
          ],
          "internalType": "struct FutureProof.MessageMetadata",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getMessageCount",
      "outputs": [
        {
          "internalType": "uint64",
          "name": "",
          "type": "uint64"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        }
      ],
      "name": "getReceivedMessages",
      "outputs": [
        {
          "components": [
            {
              "internalType": "string",
              "name": "encryptedKeyCid",
              "type": "string"
            },
            {
              "internalType": "string",
              "name": "encryptedMessageCid",
              "type": "string"
            },
            {
              "internalType": "string",
              "name": "messageHash",
              "type": "string"
            },
            {
              "internalType": "uint64",
              "name": "unlockTimestamp",
              "type": "uint64"
            },
            {
              "internalType": "address",
              "name": "sender",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "recipient",
              "type": "address"
            },
            {
              "internalType": "uint64",
              "name": "createdAt",
              "type": "uint64"
            }
          ],
          "internalType": "struct FutureProof.MessageMetadata[]",
          "name": "",
          "type": "tuple[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "sender",
          "type": "address"
        }
      ],
      "name": "getSentMessages",
      "outputs": [
        {
          "components": [
            {
              "internalType": "string",
              "name": "encryptedKeyCid",
              "type": "string"
            },
            {
              "internalType": "string",
              "name": "encryptedMessageCid",
              "type": "string"
            },
            {
              "internalType": "string",
              "name": "messageHash",
              "type": "string"
            },
            {
              "internalType": "uint64",
              "name": "unlockTimestamp",
              "type": "uint64"
            },
            {
              "internalType": "address",
              "name": "sender",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "recipient",
              "type": "address"
            },
            {
              "internalType": "uint64",
              "name": "createdAt",
              "type": "uint64"
            }
          ],
          "internalType": "struct FutureProof.MessageMetadata[]",
          "name": "",
          "type": "tuple[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "encryptedKeyCid",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "encryptedMessageCid",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "messageHash",
          "type": "string"
        },
        {
          "internalType": "uint64",
          "name": "unlockTimestamp",
          "type": "uint64"
        },
        {
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        }
      ],
      "name": "storeMessage",
      "outputs": [
        {
          "internalType": "uint64",
          "name": "messageId",
          "type": "uint64"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50610fad806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063319339161461005c57806350b4d1fc14610086578063539ca17a146100a65780638602def6146100c6578063edd882c0146100d9575b600080fd5b6000546001600160401b03165b6040516001600160401b0390911681526020015b60405180910390f35b610099610094366004610b09565b6100ec565b60405161007d9190610c05565b6100b96100b4366004610c7e565b610194565b60405161007d9190610c99565b6100996100d4366004610b09565b6103e5565b6100696100e7366004610cf4565b61045c565b6001600160a01b038116600090815260036020908152604080832080548251818502810185019093528083526060949383018282801561017d57602002820191906000526020600020906000905b82829054906101000a90046001600160401b03166001600160401b03168152602001906008019060208260070104928301926001038202915080841161013a5790505b5050505050905061018d816107a6565b9392505050565b61019c610a8c565b6001600160401b038216600090815260016020526040808220815160e081019092528054829082906101cd90610dae565b80601f01602080910402602001604051908101604052809291908181526020018280546101f990610dae565b80156102465780601f1061021b57610100808354040283529160200191610246565b820191906000526020600020905b81548152906001019060200180831161022957829003601f168201915b5050505050815260200160018201805461025f90610dae565b80601f016020809104026020016040519081016040528092919081815260200182805461028b90610dae565b80156102d85780601f106102ad576101008083540402835291602001916102d8565b820191906000526020600020905b8154815290600101906020018083116102bb57829003601f168201915b505050505081526020016002820180546102f190610dae565b80601f016020809104026020016040519081016040528092919081815260200182805461031d90610dae565b801561036a5780601f1061033f5761010080835404028352916020019161036a565b820191906000526020600020905b81548152906001019060200180831161034d57829003601f168201915b505050918352505060038201546001600160401b038082166020840152600160401b9091046001600160a01b0390811660408401526004909301548084166060840152600160a01b900416608091820152820151919250166103df576040516328915ac760e01b815260040160405180910390fd5b92915050565b6001600160a01b038116600090815260026020908152604080832080548251818502810185019093528083526060949383018282801561017d57600091825260209182902080546001600160401b0316845290820283019290916008910180841161013a5790505050505050905061018d816107a6565b600087810361047e57604051631e57c47560e21b815260040160405180910390fd5b60008690036104a05760405163ec02a6db60e01b815260040160405180910390fd5b60408410156104c257604051638b56642d60e01b815260040160405180910390fd5b42836001600160401b0316116104eb5760405163b7d0949760e01b815260040160405180910390fd5b6001600160a01b038216330361051457604051631fb5cecf60e11b815260040160405180910390fd5b600080546001600160401b0316908061052c83610dfe565b82546001600160401b0391821661010093840a9081029202191617909155604080516020601f8d01819004028101830190915260e081018b81529293509182918c908c9081908501838280828437600092019190915250505090825250604080516020601f8b0181900481028201810190925289815291810191908a908a9081908401838280828437600092019190915250505090825250604080516020601f89018190048102820181019092528781529181019190889088908190840183828082843760009201829052509385525050506001600160401b03808716602080850191909152336040808601919091526001600160a01b0388166060860152428316608090950194909452908516825260019052208151819061064f9082610e89565b50602082015160018201906106649082610e89565b50604082015160028201906106799082610e89565b5060608201516003828101805460808601516001600160a01b03908116600160401b026001600160e01b03199283166001600160401b03968716171790925560a08601516004958601805460c0909801518616600160a01b029790921690831617959095179094553360008181526002602090815260408083208054600181810183559185528385208982040180548c8a16928916600890810261010090810a858102908d0219909316929092179092559a8d168087528886528487208054948501815587529585902099830490990180549290971690980290980a80880290870219909816979097179093559451928816835292917ff74894fa66d4c9bc09342426c8a86c1776ef20d1c35f76699947731aae4cc0cf910160405180910390a498975050505050505050565b6060600082516001600160401b038111156107c3576107c3610e24565b6040519080825280602002602001820160405280156107fc57816020015b6107e9610a8c565b8152602001906001900390816107e15790505b50905060005b8351811015610a85576001600085838151811061082157610821610f48565b60200260200101516001600160401b03166001600160401b031681526020019081526020016000206040518060e001604052908160008201805461086490610dae565b80601f016020809104026020016040519081016040528092919081815260200182805461089090610dae565b80156108dd5780601f106108b2576101008083540402835291602001916108dd565b820191906000526020600020905b8154815290600101906020018083116108c057829003601f168201915b505050505081526020016001820180546108f690610dae565b80601f016020809104026020016040519081016040528092919081815260200182805461092290610dae565b801561096f5780601f106109445761010080835404028352916020019161096f565b820191906000526020600020905b81548152906001019060200180831161095257829003601f168201915b5050505050815260200160028201805461098890610dae565b80601f01602080910402602001604051908101604052809291908181526020018280546109b490610dae565b8015610a015780601f106109d657610100808354040283529160200191610a01565b820191906000526020600020905b8154815290600101906020018083116109e457829003601f168201915b505050918352505060038201546001600160401b0380821660208401526001600160a01b03600160401b909204821660408401526004909301549081166060830152600160a01b90049091166080909101528251839083908110610a6757610a67610f48565b60200260200101819052508080610a7d90610f5e565b915050610802565b5092915050565b6040518060e0016040528060608152602001606081526020016060815260200160006001600160401b0316815260200160006001600160a01b0316815260200160006001600160a01b0316815260200160006001600160401b031681525090565b80356001600160a01b0381168114610b0457600080fd5b919050565b600060208284031215610b1b57600080fd5b61018d82610aed565b6000815180845260005b81811015610b4a57602081850181015186830182015201610b2e565b506000602082860101526020601f19601f83011685010191505092915050565b6000815160e08452610b7f60e0850182610b24565b905060208301518482036020860152610b988282610b24565b91505060408301518482036040860152610bb28282610b24565b91505060608301516001600160401b0380821660608701526080850151915060018060a01b0380831660808801528060a08701511660a0880152508060c08601511660c087015250508091505092915050565b6000602080830181845280855180835260408601915060408160051b870101925083870160005b82811015610c5a57603f19888603018452610c48858351610b6a565b94509285019290850190600101610c2c565b5092979650505050505050565b80356001600160401b0381168114610b0457600080fd5b600060208284031215610c9057600080fd5b61018d82610c67565b60208152600061018d6020830184610b6a565b60008083601f840112610cbe57600080fd5b5081356001600160401b03811115610cd557600080fd5b602083019150836020828501011115610ced57600080fd5b9250929050565b60008060008060008060008060a0898b031215610d1057600080fd5b88356001600160401b0380821115610d2757600080fd5b610d338c838d01610cac565b909a50985060208b0135915080821115610d4c57600080fd5b610d588c838d01610cac565b909850965060408b0135915080821115610d7157600080fd5b50610d7e8b828c01610cac565b9095509350610d91905060608a01610c67565b9150610d9f60808a01610aed565b90509295985092959890939650565b600181811c90821680610dc257607f821691505b602082108103610de257634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052601160045260246000fd5b60006001600160401b03808316818103610e1a57610e1a610de8565b6001019392505050565b634e487b7160e01b600052604160045260246000fd5b601f821115610e8457600081815260208120601f850160051c81016020861015610e615750805b601f850160051c820191505b81811015610e8057828155600101610e6d565b5050505b505050565b81516001600160401b03811115610ea257610ea2610e24565b610eb681610eb08454610dae565b84610e3a565b602080601f831160018114610eeb5760008415610ed35750858301515b600019600386901b1c1916600185901b178555610e80565b600085815260208120601f198616915b82811015610f1a57888601518255948401946001909101908401610efb565b5085821015610f385787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b634e487b7160e01b600052603260045260246000fd5b600060018201610f7057610f70610de8565b506001019056fea2646970667358221220822ac57843a615bc4a83c027def2a079503bb00af053927749cadbedc35ab4af64736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100575760003560e01c8063319339161461005c57806350b4d1fc14610086578063539ca17a146100a65780638602def6146100c6578063edd882c0146100d9575b600080fd5b6000546001600160401b03165b6040516001600160401b0390911681526020015b60405180910390f35b610099610094366004610b09565b6100ec565b60405161007d9190610c05565b6100b96100b4366004610c7e565b610194565b60405161007d9190610c99565b6100996100d4366004610b09565b6103e5565b6100696100e7366004610cf4565b61045c565b6001600160a01b038116600090815260036020908152604080832080548251818502810185019093528083526060949383018282801561017d57602002820191906000526020600020906000905b82829054906101000a90046001600160401b03166001600160401b03168152602001906008019060208260070104928301926001038202915080841161013a5790505b5050505050905061018d816107a6565b9392505050565b61019c610a8c565b6001600160401b038216600090815260016020526040808220815160e081019092528054829082906101cd90610dae565b80601f01602080910402602001604051908101604052809291908181526020018280546101f990610dae565b80156102465780601f1061021b57610100808354040283529160200191610246565b820191906000526020600020905b81548152906001019060200180831161022957829003601f168201915b5050505050815260200160018201805461025f90610dae565b80601f016020809104026020016040519081016040528092919081815260200182805461028b90610dae565b80156102d85780601f106102ad576101008083540402835291602001916102d8565b820191906000526020600020905b8154815290600101906020018083116102bb57829003601f168201915b505050505081526020016002820180546102f190610dae565b80601f016020809104026020016040519081016040528092919081815260200182805461031d90610dae565b801561036a5780601f1061033f5761010080835404028352916020019161036a565b820191906000526020600020905b81548152906001019060200180831161034d57829003601f168201915b505050918352505060038201546001600160401b038082166020840152600160401b9091046001600160a01b0390811660408401526004909301548084166060840152600160a01b900416608091820152820151919250166103df576040516328915ac760e01b815260040160405180910390fd5b92915050565b6001600160a01b038116600090815260026020908152604080832080548251818502810185019093528083526060949383018282801561017d57600091825260209182902080546001600160401b0316845290820283019290916008910180841161013a5790505050505050905061018d816107a6565b600087810361047e57604051631e57c47560e21b815260040160405180910390fd5b60008690036104a05760405163ec02a6db60e01b815260040160405180910390fd5b60408410156104c257604051638b56642d60e01b815260040160405180910390fd5b42836001600160401b0316116104eb5760405163b7d0949760e01b815260040160405180910390fd5b6001600160a01b038216330361051457604051631fb5cecf60e11b815260040160405180910390fd5b600080546001600160401b0316908061052c83610dfe565b82546001600160401b0391821661010093840a9081029202191617909155604080516020601f8d01819004028101830190915260e081018b81529293509182918c908c9081908501838280828437600092019190915250505090825250604080516020601f8b0181900481028201810190925289815291810191908a908a9081908401838280828437600092019190915250505090825250604080516020601f89018190048102820181019092528781529181019190889088908190840183828082843760009201829052509385525050506001600160401b03808716602080850191909152336040808601919091526001600160a01b0388166060860152428316608090950194909452908516825260019052208151819061064f9082610e89565b50602082015160018201906106649082610e89565b50604082015160028201906106799082610e89565b5060608201516003828101805460808601516001600160a01b03908116600160401b026001600160e01b03199283166001600160401b03968716171790925560a08601516004958601805460c0909801518616600160a01b029790921690831617959095179094553360008181526002602090815260408083208054600181810183559185528385208982040180548c8a16928916600890810261010090810a858102908d0219909316929092179092559a8d168087528886528487208054948501815587529585902099830490990180549290971690980290980a80880290870219909816979097179093559451928816835292917ff74894fa66d4c9bc09342426c8a86c1776ef20d1c35f76699947731aae4cc0cf910160405180910390a498975050505050505050565b6060600082516001600160401b038111156107c3576107c3610e24565b6040519080825280602002602001820160405280156107fc57816020015b6107e9610a8c565b8152602001906001900390816107e15790505b50905060005b8351811015610a85576001600085838151811061082157610821610f48565b60200260200101516001600160401b03166001600160401b031681526020019081526020016000206040518060e001604052908160008201805461086490610dae565b80601f016020809104026020016040519081016040528092919081815260200182805461089090610dae565b80156108dd5780601f106108b2576101008083540402835291602001916108dd565b820191906000526020600020905b8154815290600101906020018083116108c057829003601f168201915b505050505081526020016001820180546108f690610dae565b80601f016020809104026020016040519081016040528092919081815260200182805461092290610dae565b801561096f5780601f106109445761010080835404028352916020019161096f565b820191906000526020600020905b81548152906001019060200180831161095257829003601f168201915b5050505050815260200160028201805461098890610dae565b80601f01602080910402602001604051908101604052809291908181526020018280546109b490610dae565b8015610a015780601f106109d657610100808354040283529160200191610a01565b820191906000526020600020905b8154815290600101906020018083116109e457829003601f168201915b505050918352505060038201546001600160401b0380821660208401526001600160a01b03600160401b909204821660408401526004909301549081166060830152600160a01b90049091166080909101528251839083908110610a6757610a67610f48565b60200260200101819052508080610a7d90610f5e565b915050610802565b5092915050565b6040518060e0016040528060608152602001606081526020016060815260200160006001600160401b0316815260200160006001600160a01b0316815260200160006001600160a01b0316815260200160006001600160401b031681525090565b80356001600160a01b0381168114610b0457600080fd5b919050565b600060208284031215610b1b57600080fd5b61018d82610aed565b6000815180845260005b81811015610b4a57602081850181015186830182015201610b2e565b506000602082860101526020601f19601f83011685010191505092915050565b6000815160e08452610b7f60e0850182610b24565b905060208301518482036020860152610b988282610b24565b91505060408301518482036040860152610bb28282610b24565b91505060608301516001600160401b0380821660608701526080850151915060018060a01b0380831660808801528060a08701511660a0880152508060c08601511660c087015250508091505092915050565b6000602080830181845280855180835260408601915060408160051b870101925083870160005b82811015610c5a57603f19888603018452610c48858351610b6a565b94509285019290850190600101610c2c565b5092979650505050505050565b80356001600160401b0381168114610b0457600080fd5b600060208284031215610c9057600080fd5b61018d82610c67565b60208152600061018d6020830184610b6a565b60008083601f840112610cbe57600080fd5b5081356001600160401b03811115610cd557600080fd5b602083019150836020828501011115610ced57600080fd5b9250929050565b60008060008060008060008060a0898b031215610d1057600080fd5b88356001600160401b0380821115610d2757600080fd5b610d338c838d01610cac565b909a50985060208b0135915080821115610d4c57600080fd5b610d588c838d01610cac565b909850965060408b0135915080821115610d7157600080fd5b50610d7e8b828c01610cac565b9095509350610d91905060608a01610c67565b9150610d9f60808a01610aed565b90509295985092959890939650565b600181811c90821680610dc257607f821691505b602082108103610de257634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052601160045260246000fd5b60006001600160401b03808316818103610e1a57610e1a610de8565b6001019392505050565b634e487b7160e01b600052604160045260246000fd5b601f821115610e8457600081815260208120601f850160051c81016020861015610e615750805b601f850160051c820191505b81811015610e8057828155600101610e6d565b5050505b505050565b81516001600160401b03811115610ea257610ea2610e24565b610eb681610eb08454610dae565b84610e3a565b602080601f831160018114610eeb5760008415610ed35750858301515b600019600386901b1c1916600185901b178555610e80565b600085815260208120601f198616915b82811015610f1a57888601518255948401946001909101908401610efb565b5085821015610f385787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b634e487b7160e01b600052603260045260246000fd5b600060018201610f7057610f70610de8565b506001019056fea2646970667358221220822ac57843a615bc4a83c027def2a079503bb00af053927749cadbedc35ab4af64736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
